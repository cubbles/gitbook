(window.webpackJsonp=window.webpackJsonp||[]).push([[64],{247:function(t,a,e){"use strict";e.r(a);var s=e(0),n=Object(s.a)({},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"rte-integration"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#rte-integration","aria-hidden":"true"}},[t._v("#")]),t._v(" RTE Integration")]),t._v(" "),e("h2",{attrs:{id:"prerequisites"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#prerequisites","aria-hidden":"true"}},[t._v("#")]),t._v(" Prerequisites")]),t._v(" "),e("ol",[e("li",[t._v("Your user-interface allows placing script-tags into a web page.")]),t._v(" "),e("li",[t._v("You have a url where the Cubbles RTE webpackage is available and your web page has access to it.")])]),t._v(" "),e("h2",{attrs:{id:"integration"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#integration","aria-hidden":"true"}},[t._v("#")]),t._v(" Integration")]),t._v(" "),e("p",[t._v("Simply put two "),e("code",[t._v("<script>")]),t._v(" tags into the webpage (into the head or the body) to make the RTE (the Cubbles RunTime Extension) available on the client side:")]),t._v(" "),e("div",{staticClass:"language-html extra-class"},[e("pre",{pre:!0,attrs:{class:"language-html"}},[e("code",[t._v("  "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("[base-url]/[store]/cubx.core.rte@3.0.0/webcomponents/custom-elements-es5-adapter.js"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),e("span",{pre:!0,attrs:{class:"token script"}}),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("[base-url]/[store]/cubx.core.rte@3.0.0/webcomponents/webcomponents-lite.js"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),e("span",{pre:!0,attrs:{class:"token script"}},[e("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("script src"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"[base-url]/[store]/cubx.core.rte@3.0.0/crc-loader/js/main.js"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")])])]),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),e("h3",{attrs:{id:"scripts"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#scripts","aria-hidden":"true"}},[t._v("#")]),t._v(" Scripts")]),t._v(" "),e("ol",[e("li",[e("strong",[t._v("custom-elements-es5-adapter")]),t._v(": Allows compiling and serving "),e("a",{attrs:{href:"https://developers.google.com/web/fundamentals/web-components/customelements",target:"_blank",rel:"noopener noreferrer"}},[t._v("custom components"),e("OutboundLink")],1),t._v(" using ES5, so that the browsers that don't support ES6 work correctly.")]),t._v(" "),e("li",[e("strong",[t._v("webcomponents-lite")]),t._v(": Load some polyfills to enable browsers to work with webcomponents.")]),t._v(" "),e("li",[e("strong",[t._v("crc-loader")]),t._v(": It provides the entry-point for RTE, that is, it makes RTE available on client side.")])]),t._v(" "),e("h3",{attrs:{id:"placeholders"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#placeholders","aria-hidden":"true"}},[t._v("#")]),t._v(" Placeholders")]),t._v(" "),e("p",[t._v("Note that the source urls of the scripts presented above have two placeholders:")]),t._v(" "),e("ul",[e("li",[e("strong",[t._v("[base-url]")]),t._v(": The url of the "),e("router-link",{attrs:{to:"/terms-and-concepts/base.html"}},[t._v("Cubbles Base")]),t._v(" you will use.")],1),t._v(" "),e("li",[e("strong",[t._v("[store]")]),t._v(": The name of the store where your webpackages (including the RTE webpackage) are available.")])]),t._v(" "),e("h3",{attrs:{id:"crc-loader-optional-attributes"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#crc-loader-optional-attributes","aria-hidden":"true"}},[t._v("#")]),t._v(" CRC-Loader optional attributes")]),t._v(" "),e("ul",[e("li",[e("strong",[t._v("data-crcinit-loadcif")]),t._v(' ("true"|"false"; default="true"): Is true, the Component-Interaction-Framework (CIF) is loaded. If you are using the RTE to load artifacts of type '),e("code",[t._v('"utility"')]),t._v(" you can set this attribute to false since no components will be processed.")])]),t._v(" "),e("div",{staticClass:"language-html extra-class"},[e("pre",{pre:!0,attrs:{class:"language-html"}},[e("code",[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("<crc-loader>"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("data-crcinit-loadcif")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("false"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),e("ul",[e("li",[e("strong",[t._v("data-cubx-startevent")]),t._v(' (default="DOMContentLoaded"): Set the event that triggers the RTE to\n'),e("ul",[e("li",[t._v("parse top-level dependencies from the document,")]),t._v(" "),e("li",[t._v("resolve transitive dependencies,")]),t._v(" "),e("li",[t._v("enable the browser to load the dependencies")]),t._v(" "),e("li",[t._v("and trigger the CIF to start working.")])])])]),t._v(" "),e("p",[t._v("It might be useful to use another event - e.g. if the content containing cubbles components is included in the document in an asynchronous way.")]),t._v(" "),e("div",{staticClass:"language-html extra-class"},[e("pre",{pre:!0,attrs:{class:"language-html"}},[e("code",[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("<crc-loader>"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("data-cubx-startevent")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("MyCubxStartEvent"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),e("h2",{attrs:{id:"configuration-optional"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#configuration-optional","aria-hidden":"true"}},[t._v("#")]),t._v(" Configuration (optional)")]),t._v(" "),e("p",[t._v("A page developer can (optionally) provide a configuration object for the Cubbles RTE within the namespace "),e("code",[t._v("window.cubx")]),t._v(". He/she can define "),e("code",[t._v("rootDependencies")]),t._v(" for a web page using the "),e("code",[t._v("CRCInit")]),t._v(" property to "),e("strong",[t._v("load an artifact")]),t._v(":")]),t._v(" "),e("ol",[e("li",[t._v("defined in a dependency declaration, which is done regardless of whether this artifact is required when the web page is initially loaded.")]),t._v(" "),e("li",[t._v("from the webpackage in the exact given version.")])]),t._v(" "),e("div",{staticClass:"language-html extra-class"},[e("pre",{pre:!0,attrs:{class:"language-html"}},[e("code",[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),e("span",{pre:!0,attrs:{class:"token script"}},[e("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v("\n    window"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cubx "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        CRCInit"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            rootDependencies"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" webpackageId"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"demo-package@1.0"')]),t._v(" artifactId"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"util1"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),e("h3",{attrs:{id:"important-information-about-multiple-versions-of-the-same-component"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#important-information-about-multiple-versions-of-the-same-component","aria-hidden":"true"}},[t._v("#")]),t._v(" Important information about multiple versions of the same component")]),t._v(" "),e("p",[t._v("Loading the same artifact multiple times (perhaps in different versions) leads to an unpredictable behaviour within the browser --also if they have been referred from different components--. In this context, each component would work as programmed, but browsers do not provide isolated runtimes for different components (and components' versions).")]),t._v(" "),e("p",[t._v("Therefore the RTE (since version 2.1) has a dependency resolution mechanism implemented that prefers the webpackage version with the shortest path within the page dependency tree.")]),t._v(" "),e("p",[t._v("To affect the dependency tree specified artifacts can be added and/or excluded by configuration. The combination of exclusion and addition of dependencies allows you to simply override/replace any version of an artifact.")])])},[],!1,null,null,null);a.default=n.exports}}]);