(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{268:function(e,t,a){"use strict";a.r(t);var o=a(0),r=Object(o.a)({},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"using-the-vanilla-boilerplate-scripts"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#using-the-vanilla-boilerplate-scripts","aria-hidden":"true"}},[e._v("#")]),e._v(" Using the vanilla boilerplate scripts")]),e._v(" "),a("p",[e._v("The "),a("a",{attrs:{href:"https://github.com/cubblesmasters/vanilla",target:"_blank",rel:"noopener noreferrer"}},[e._v("vanilla boilerplate"),a("OutboundLink")],1),e._v(" includes 13 scripts listed in the "),a("code",[e._v("package.json")]),e._v(" file. However, in this tutorial, we will present only 9, which are the ones that you will require to develop, deploy and upload Cubbles artifacts.")]),e._v(" "),a("h2",{attrs:{id:"prerequisites"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#prerequisites","aria-hidden":"true"}},[e._v("#")]),e._v(" Prerequisites")]),e._v(" "),a("p",[e._v("To start using the scripts of the "),a("code",[e._v("vanilla boilerplate")]),e._v(", it should be cloned locally and all its dependencies should be installed (See "),a("router-link",{attrs:{to:"/developing-vanilla-boilerplate/creating-project.html"}},[e._v("this guide")]),e._v(" for more information).")],1),e._v(" "),a("h2",{attrs:{id:"running-the-scripts"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#running-the-scripts","aria-hidden":"true"}},[e._v("#")]),e._v(" Running the scripts")]),e._v(" "),a("p",[e._v("You can run all the available scripts using npm as follows:")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" run "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("script-name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v("\n")])])]),a("p",[e._v("Also, you can install "),a("a",{attrs:{href:"https://www.npmjs.com/package/ntl",target:"_blank",rel:"noopener noreferrer"}},[e._v("ntl"),a("OutboundLink")],1),e._v(" globally and the run it to access the scripts as shown below:")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[e._v("$ ntl\n✔  Npm Task List - v3.0.0\n? Select a task to run: "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("Use arrow keys"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n❯ build\n  build:watch\n  build:prod\n  clean\n  upload\n  upload:prod\n  validate-manifest\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("Move up and down to reveal "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("more")]),e._v(" choices"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n")])])]),a("h2",{attrs:{id:"building-a-dist-version-of-your-webpackage"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#building-a-dist-version-of-your-webpackage","aria-hidden":"true"}},[e._v("#")]),e._v(" Building a dist version of your webpackage")]),e._v(" "),a("p",[e._v("TO be able to test a developed artifact you should build a dist version that can be run under the Cubbles platform. That is, it should be within a "),a("router-link",{attrs:{to:"/terms-and-concepts/webpackage.html"}},[e._v("webpackage")]),e._v(" that contains a "),a("a",{attrs:{href:"http://cubbles.github.io/cubx-webpackage-document-api/schema-explorer.html?schemaPath=https://raw.githubusercontent.com/cubbles/coder-toolset/develop/packages/webpackage-document-api/lib/jsonSchema/manifestWebpackage-10.1.0.schema.json",target:"_blank",rel:"noopener noreferrer"}},[e._v("valid manifest file"),a("OutboundLink")],1),e._v(". To aim that, you should run one of the building scripts which are:")],1),e._v(" "),a("ul",[a("li",[a("strong",[e._v("build")]),e._v(": builds a development version of the current webpackage.")]),e._v(" "),a("li",[a("strong",[e._v("build:watch")]),e._v(": builds a development version of the current webpackage, and monitors changes to produce new builds when required.")]),e._v(" "),a("li",[a("strong",[e._v("build:prod")]),e._v(": builds a production version (i.e., with minified scripts) of the webpackage.")])]),e._v(" "),a("p",[e._v("The built webpackage will be placed in a folder called "),a("code",[e._v("dist")]),e._v(" in the root folder of your project.")]),e._v(" "),a("h2",{attrs:{id:"starting-a-local-server"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#starting-a-local-server","aria-hidden":"true"}},[e._v("#")]),e._v(" Starting a local server")]),e._v(" "),a("p",[e._v("After building a webpackage, you may want to run it locally. To aim that, you can run one of the following scripts:")]),e._v(" "),a("ul",[a("li",[a("strong",[e._v("start")]),e._v(": it starts a local web server listening at "),a("em",[e._v("http:localhost:4000")]),e._v(".")]),e._v(" "),a("li",[a("strong",[e._v("start:watch")]),e._v(": it starts a local web server listening at "),a("em",[e._v("http:localhost:4000")]),e._v(" and monitoring changes to reload the server when needed.")])]),e._v(" "),a("h2",{attrs:{id:"uploading-a-webpackage-to-a-cubbles-base"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#uploading-a-webpackage-to-a-cubbles-base","aria-hidden":"true"}},[e._v("#")]),e._v(" Uploading a webpackage to a Cubbles base")]),e._v(" "),a("p",[e._v("When your webpackage is ready, you may want to upload it to a Cubbles base. There two scripts that you can use for uploading:")]),e._v(" "),a("ul",[a("li",[e._v('"upload": this script is intended to be used during development. It uploads the webpackage using the configuration defined in the '),a("code",[e._v("cubx-uploader-config.dev")]),e._v(" property of the "),a("code",[e._v("cubbles[cubx-webpackage-uploader]")]),e._v(" property of the "),a("em",[e._v("package.json")]),e._v(" file. The script offers you the opportunity to build the webpackage using the "),a("code",[e._v("build")]),e._v(" script.")]),e._v(" "),a("li",[e._v('"upload:prod": this script is intended to be used for production. It uploads the webpackage using the configuration defined in the '),a("code",[e._v("cubx-uploader-config.prod")]),e._v(" property of the "),a("code",[e._v("cubbles[cubx-webpackage-uploader]")]),e._v(" property of the "),a("em",[e._v("package.json")]),e._v(" file.. The script offers you the opportunity to build the webpackage using the "),a("code",[e._v("build:prod")]),e._v(" script.")])]),e._v(" "),a("p",[e._v("Both scripts run the "),a("code",[e._v("validate-manifest")]),e._v(" script before trying to upload the webpackage. If the generated manifest is invalid the webpackage would not be uploaded.")]),e._v(" "),a("h3",{attrs:{id:"upload-configuration-files"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#upload-configuration-files","aria-hidden":"true"}},[e._v("#")]),e._v(" Upload configuration files")]),e._v(" "),a("p",[e._v("As mentioned above, upload configuration files are located at the root of your folder. Those are JSON files, containing the following properties:")]),e._v(" "),a("ol",[a("li",[a("code",[e._v("target [mandatory, object]")]),e._v(": This object contains the following properties:\n"),a("ol",[a("li",[a("code",[e._v("url [mandatory, string/url]")]),e._v(": This is the url of the Cubbles Base where the webpackage will be uploaded to.")]),e._v(" "),a("li",[a("code",[e._v("proxy [optional, string/url]")]),e._v(": If your connection to the Cubbles Base is routed over a proxy server, use this attribute to provide the proxy url.")])])]),e._v(" "),a("li",[a("code",[e._v("dryRun [optional, boolean]")]),e._v(": This option allows you to run the task, without actually uploading anything. It's perfect to check your permissions to upload to the target base.")]),e._v(" "),a("li",[a("code",[e._v("debug [optional, boolean]")]),e._v(': Set the debug option to "true" to print more details of the uploading process.')])]),e._v(" "),a("p",[e._v("You should edit those properties according to your needs.")]),e._v(" "),a("h2",{attrs:{id:"validating-de-generated-built-manifest"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#validating-de-generated-built-manifest","aria-hidden":"true"}},[e._v("#")]),e._v(" Validating de generated (built) manifest")]),e._v(" "),a("p",[e._v("The manifest of a Cubbles webpackage should be valid according to a JSON schema associated with a model version. Up "),a("router-link",{attrs:{to:"/runtime-extension-rte/"}},[e._v("RTE@3.0.0")]),e._v(" the modelVersion is 10.0.0, whose JSON schema can be explored "),a("a",{attrs:{href:"http://cubbles.github.io/cubx-webpackage-document-api/schema-explorer.html?schemaPath=https://raw.githubusercontent.com/cubbles/coder-toolset/develop/packages/webpackage-document-api/lib/jsonSchema/manifestWebpackage-10.1.0.schema.json",target:"_blank",rel:"noopener noreferrer"}},[e._v("online"),a("OutboundLink")],1),e._v(".")],1),e._v(" "),a("p",[e._v("If you want to be sure that the generated manifest is valid, you can run the "),a("code",[e._v("validate-manifest")]),e._v(" script.")]),e._v(" "),a("p",[e._v("Note that this script is run automatically before uploading a webpackage. That is when running "),a("code",[e._v("upload")]),e._v(" or "),a("code",[e._v("upload:dev")]),e._v(" scripts.")]),e._v(" "),a("h2",{attrs:{id:"cleaning-the-dist-folder"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cleaning-the-dist-folder","aria-hidden":"true"}},[e._v("#")]),e._v(" Cleaning the dist folder")]),e._v(" "),a("p",[e._v("Finally, if you want to clean (remove) the generated "),a("em",[e._v("dist")]),e._v(" folder, you can run the "),a("code",[e._v("clean")]),e._v(" script. Note, that it is run automatically when running "),a("code",[e._v("build")]),e._v(" or "),a("code",[e._v("build:dev")]),e._v(" scripts.")])])},[],!1,null,null,null);t.default=r.exports}}]);